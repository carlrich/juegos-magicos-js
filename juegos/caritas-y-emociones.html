<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Caritas y Emociones</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Fredoka', sans-serif;
      transition: background-color 0.5s ease;
    }

    /* Animaci√≥n de "respiraci√≥n" para las caritas */
    .emoji-card {
      animation: float 3s ease-in-out infinite;
    }
    
    /* Hacemos que floten a destiempo para que se vea natural */
    .emoji-card:nth-child(odd) { animation-duration: 3.5s; }
    .emoji-card:nth-child(even) { animation-duration: 4s; }

    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }

    .glass-panel {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
    }
  </style>
</head>
<body class="bg-blue-50 min-h-screen flex flex-col items-center justify-center p-4 transition-colors duration-700" id="body-bg">

  <a href="../index.html" class="absolute top-4 left-4 bg-white/50 hover:bg-white text-gray-700 px-4 py-2 rounded-full shadow-sm transition font-bold z-10">
    ‚¨Ö Volver
  </a>

  <div class="max-w-2xl w-full">
    
    <div class="glass-panel rounded-3xl shadow-xl p-8 text-center mb-8 border-4 border-white transform transition-all hover:scale-105 duration-300">
      <p class="text-gray-500 uppercase tracking-widest text-sm font-bold mb-2">Encuentra la emoci√≥n:</p>
      
      <h1 id="texto-emocion" class="text-5xl md:text-6xl font-black text-gray-800 mb-2 drop-shadow-sm">
        FELIZ
      </h1>
      <div class="h-1 w-24 mx-auto rounded-full bg-gray-300 mt-4" id="barra-color"></div>
    </div>

    <div id="grid-opciones" class="grid grid-cols-2 md:grid-cols-3 gap-6">
      </div>

  </div>

  <script>
    // --- DATOS DE EMOCIONES ---
    const emociones = [
      { nombre: "FELIZ", emoji: "üòÑ", color: "bg-yellow-100", accent: "bg-yellow-400", msg: "¬°Esa sonrisa ilumina todo!" },
      { nombre: "TRISTE", emoji: "üò¢", color: "bg-blue-100", accent: "bg-blue-400", msg: "A veces est√° bien llorar un poco." },
      { nombre: "ENFADADO", emoji: "üò°", color: "bg-red-100", accent: "bg-red-500", msg: "Respira hondo..." },
      { nombre: "SORPRENDIDO", emoji: "üò±", color: "bg-purple-100", accent: "bg-purple-400", msg: "¬°Wow! ¬°Incre√≠ble!" },
      { nombre: "ENAMORADO", emoji: "üòç", color: "bg-pink-100", accent: "bg-pink-400", msg: "Puro amor en el aire." },
      { nombre: "GRACIOSO", emoji: "ü§™", color: "bg-green-100", accent: "bg-green-400", msg: "¬°Qu√© locura!" },
      { nombre: "GENIAL", emoji: "üòé", color: "bg-orange-100", accent: "bg-orange-400", msg: "Con mucho estilo." },
      { nombre: "DORMIDO", emoji: "üò¥", color: "bg-indigo-100", accent: "bg-indigo-400", msg: "Shh... dulces sue√±os." },
      { nombre: "PENSATIVO", emoji: "ü§î", color: "bg-gray-200", accent: "bg-gray-400", msg: "Mmm... interesante." }
    ];

    let nivelActual = 0;
    let emocionCorrecta = null;

    // Iniciar
    cargarNivel();

    function cargarNivel() {
      // 1. Elegir una emoci√≥n objetivo al azar
      const indiceRandom = Math.floor(Math.random() * emociones.length);
      emocionCorrecta = emociones[indiceRandom];

      // 2. Cambiar el ambiente (Colores de fondo y texto)
      document.getElementById('body-bg').className = `${emocionCorrecta.color} min-h-screen flex flex-col items-center justify-center p-4 transition-colors duration-700`;
      
      const titulo = document.getElementById('texto-emocion');
      titulo.innerText = emocionCorrecta.nombre;
      titulo.style.color = 'inherit'; // Hereda colores oscuros por defecto, pero podr√≠amos personalizarlo

      document.getElementById('barra-color').className = `h-2 w-24 mx-auto rounded-full mt-4 ${emocionCorrecta.accent}`;

      // 3. Preparar distractores
      // Filtramos para no repetir la correcta y tomamos 2 o 3 m√°s
      const distractores = emociones
        .filter(e => e.nombre !== emocionCorrecta.nombre)
        .sort(() => Math.random() - 0.5)
        .slice(0, 3); // Tomamos 3 distractores (Total 4 opciones)

      // 4. Crear array final mezclado
      const opciones = [emocionCorrecta, ...distractores].sort(() => Math.random() - 0.5);

      // 5. Renderizar
      const contenedor = document.getElementById('grid-opciones');
      contenedor.innerHTML = "";

      opciones.forEach(opcion => {
        const btn = document.createElement('button');
        // Estilos Tailwind para la tarjeta
        btn.className = `
          emoji-card bg-white rounded-2xl p-6 shadow-lg 
          border-b-4 border-gray-200 active:border-b-0 active:translate-y-1 
          hover:shadow-2xl hover:-translate-y-2 transition-all duration-300
          flex flex-col items-center justify-center gap-2 group
        `;
        
        // Contenido HTML del bot√≥n
        btn.innerHTML = `
          <div class="text-6xl md:text-7xl group-hover:scale-110 transition-transform duration-300 filter drop-shadow-sm">
            ${opcion.emoji}
          </div>
        `;

        // Evento Click
        btn.onclick = () => verificarRespuesta(opcion);

        contenedor.appendChild(btn);
      });
    }

    function verificarRespuesta(seleccion) {
      if (seleccion.nombre === emocionCorrecta.nombre) {
        // CORRECTO
        Swal.fire({
          title: '¬°Correcto!',
          text: seleccion.msg, // Mensaje personalizado de la emoci√≥n
          icon: 'success',
          confirmButtonText: '¬°Otra vez!',
          confirmButtonColor: '#10B981', // Verde esmeralda
          background: '#fff',
          backdrop: `rgba(0,0,0,0.4)`
        }).then(() => {
          cargarNivel();
        });
      } else {
        // INCORRECTO
        Swal.fire({
          icon: 'error',
          title: 'Ups...',
          text: `Esa carita parece m√°s ${seleccion.nombre.toLowerCase()}. Busca la que est√° ${emocionCorrecta.nombre}.`,
          confirmButtonColor: '#EF4444' // Rojo
        });
      }
    }
  </script>
</body>
</html>